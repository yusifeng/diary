# 果然还是要学linux
****
终于换掉了那台用了快5年的老古董dell笔记本, 换了16年的macbook pro, 可是使用的时候却并不尽如人意, 可能是win系统用的太久的吧, 而且之前也没有用过linux或者nuix,盘符设定很不习惯, 还有那蛋疼的键盘, 触控板也不太适应, 因为要记得快捷手势太多了, 怎么办呢 只能慢慢适应了, 首先遇到的第一大难题就是指令, 苹果系统是基于nuix的, 这上面有很多指令其实跟linux差不多, 有linux经验的转mac应该会很快, 而我....只能从最基础的开始慢慢学了, 上大学的时候,还看到室友买了一本鸟叔的linux私房菜, 当时就挺好奇买这个干啥, 现在 似乎有点懂了

- ## 常见指令
  * ls

    显示当前目录的指令, 算是一个比较常见的指令了, 总要的是后面的参数, 其中详细显示会有类似于rw-r--r--之类的字符, 其中r代表只读, w代表可写, 3个分为一组课分为三组, 分别代表所有者(u), 所有组(g), 其他人(o)
    - -d 显示当前文件
    - -i 详细信息
    - -i inode节点
    - -a 显示所有
    - -h 人性化显示
  * mkdir [文件名]

    新建一个文件夹
  * cd [path]

    进入一个新目录, 其中../代表上级目录, ./代表当前目录, ~代表家目录
  * pwd 

    打印当前所在位置的绝对路径
  * rmdir 

    用的非常少的一个命令, 因为有其局限性, 知道即可
  * rm 

    可以说是一个挺可怕的指令, 删除指令, 可以加上-r表示删除目录, -f表示强制删除, 因此就出现了一个这个著名指令 ``rm -rf / ``删除根目录下所有文件,运行这条指令可能会产生意想不到的后果, 请谨慎使用
  * cp 

    -r可以代表复制文件, 而加上-pdr课课代表完全复制, 即使是时间也相同, 文件的修改或者产生时间在某些时候可能会非常有用
  * mv

    移动指令(move), 这是一个比较奇怪的指令, 对于移动文件夹并不需要-r这个参数, 对于同文件夹下, 就为改名指令这其实也是可以理解的, 当成移动说的同, 因为在同一个位置, 当存放位置与修改的文件夹在不同位置的时候, 就为移动指令了
  * ln

    链接指令, 可分为硬链接-d和软链接-s, 硬链接可看成是js对象不同指针对于同一个对象的引用, 其inode相同, 但删除某一个引用, 另外一个还可以继续使用, 而软链接是用的比较多的一种, 可以看成window的快捷方式,有着不同的inode 仅仅是方便打开, 其内部存储的是另外一个inode, 当删除快捷方式, 并不会影响本来的文件, 但是删除原始文件, 则快捷方式失效, 
- ## 搜索指令
  * locate [文件名]

    按照文件名称来搜索
  * whereis [指令]

    这是一种搜索指令的指令, 比如``whereis ls``
  * which [指令]

    可以看到别名, 别名是一种简单的方式来代替复杂的指令, 比如常见的ll 代表了``ls -l``, 设置也很简单, 一次性设置只需要``alina ll="ls -l"``即可
  * find [位置] [搜索条件]

    find可以说是搜索中最为强大的命令, 但是强大的背后, 也表示其参数要复杂的多, 一个参数代表搜索位置, 第二个代表搜索条件例如 ``find /root/ -name 'package.json'``为所有root下名称为'package.json'的文件, 这是完全匹配, 不能多字母也不能少字母, 也可以使用通配符, 常见的通配符有*, ?, [],至于是什么意思, 可以自己百度一下, ``find /root/ -name 'package.json*'``那么如果有'package.json.david'也可以匹配, 参数方面有-name(按文件名), -iname(按照文件名, 不区分大小写), -user(按照所有者), 我们来看这条命令``find /root/ -user root`` 搜索root目录下所有者为root的文件, 这其实有点搞笑, 既然都在root目录下,当然是root的了, 这不就是遍历吗, 其实, 这个常见用法为`find /root/ -nouser` 查找没有所有者文件
    
    - -name
    - -iname
    - -user
    - -nouser
    - -atime  (文件访问时间)
    - -ctime (改变时间)
    - -mtime (修改时间) 比如查找10天以外的日志
    - -size 
    - -inum 按照inode查找
    - -a and find /etc -size +20k -a -size -50查找大于20k小于50k的文件
    - -o or

    查找到的所有文件, 如果我们想看他的详细信息那么我们怎么办呢, 总不能一个一个慢慢巧吧, -exec命令就有用武之地了
    ``find [位置][条件] -exec ls -lh {} \;``一个都不能少
  * grep 
  
    在文件中搜索字符串, -i忽略大小写, -v取反比如`grep -i size [文件名]`在文件中所搜有size的行数,且不区分大小写
- ## 帮助指令
  * man -f  / whatis 
  * info
  * help
- ## 压缩指令
  压缩指令其实也挺多的, 而且还有不同的压缩方式, 我们需要记住得吗且经常用到的有2个, 结果是把文件压缩成.tar.gz, 或者.tar.bz2结尾的文件

  * tar -zcvf [生成的文件名.tar.gz] [源文件]

    压缩文件使用
  * tar -zxvf [生成的文件名.tar.gz] [源文件]

    解压文件使用
  * tar -jcvf [生成的文件名.tar.bz2] [源文件]

    压缩文件使用
  * tar -jxvf [生成的文件名.tar.bz2] [源文件]

    解压文件使用
- ## 关机指令
  上次用mac试了一下 , 真的可以关机, 挺有意思的哈

  * shutdown -r now

    代表马上关机重启
  * shutdown -s now

    代表马上关机
  * shutdown -s -t 50

    代表50秒后关机
  
  还有一些不常用的比如`halt`, `poweroff`, `init 0`, 有点意思的就是这个`init 0`, 这个代表系统的运行级别, 一共有7个级别

    0. 关机
    1. 单用户(类似于安全模式)
    2. 无网络的多用户(不含NFS服务)
    3. 完全多用户
    4. 未分配
    5. GUI
    6. 重启
- ## 其他指令
   - 光盘的挂载 

    1. mkdir /mnt/cdrom
    2. mount -t iso9660  /dev/sr0(cdrom)  /mnt/cdrom(你要先mkdir这个)
    3. umount /mnt/cdrom  //这一句不能丢., 且记住拆房子先退出这个房子, 你要先cd到上一级, 在卸载
  - U盘的挂载 
    