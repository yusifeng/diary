终于把《你不知道的Javascript》收集齐了, 也确实从这几本书中受益匪浅, 当然了还有红宝书, 我认为红宝书在去除一些IE浏览器的兼容处理外(感觉可以少掉1/3), 余下的部分真是是值得每一个在使用js这门语言的人多看几遍,今天翻了遍《你不知道的javascript(下)》, 又发现了几个平时没有注意到的点

* ## 箭头函数
  说说我最初对箭头函数的一些看法吧, 我相信这也是大部分人的初始认识, 就是简单, 相比复杂的`function() {}`, 写成`() => {}`,更加帅气有没有, 就算是偷工减料吧, 少打几个字母未必不是一件好事, 所以我们可能会特意的使用箭头函数, 而避免使用普通函数, 这样做其实不太好, 因为我们对于箭头函数的理解还仅仅是**写起来很帅**这种观点, 作为es6标准文献中几乎都没有异议的接受了箭头函数作为"新函数", 必然有其缘由,那么这次我们来好好的聊聊箭头函数,懂得产生它的原因和历史背景可以更好的帮助我们理解并加深我们的记忆
    * ### 普通函数的缺点
      你是否写过这种代码
      ```bash
      let self = this
      setTimeout(function() {
        //self.foo()
        //...
      }, 1000)
      ```
      在这里因为js的原因, 导致了在内部函数中this丢失, 指向的是window对象, 所以必须在外部, 利用`let self = this`来保留this, 这的确是一个不那么优雅的代码, 但在没有箭头函数之前, 也似乎没有什么特别好的方法了, 那么为什么会指向window对象呢?这其实是因为函数作用于内部会自己产生一个this, 如果外部你有一个变量叫arguments, 那么内部也不会调用外部的arguments, 道理是相同的
    * ### 什么时候不用箭头函数
      虽然箭头函数很优雅但是也不能盲目的使用箭头函数, 特殊情况, 特殊对待, 那么什么情况下该使用哪种呢其实大部分都情况都可以使用箭头函数, 所以我们来说说使用普通函数更好的情况吧
        * 对象的方法访问

          在对象上更加适合用普通方法
          ```bash
          √
          let obj1 = {
            fn1: function() {},
          }

          ×
          let obj2 = {
            fn1: () => {

            }
          }
          ```
          不知道你是否仔细的观看过Vue的官方文档, 文档中说到, 对于methods中, 或者其他的不能写箭头函数
          ```bash
          new Vue({
            methods: {
              fn1: () => {
                //...
                this  //指向的不在是这个Vue实例
              }
            }
          })
          ```
          其中的原因就是如果使用了箭头函数, 内部的this指向就不在是这个this了, 可能是window对象, 这里不细说了, 还有一点,算是补充的, 就是es6中新增的一个方法简写方式
          ```bash
          let obj3 = {
            fn1() {

            }
          }

          ```
          这种写法跟上面俩个又有扫描区别呢, 其实这种写法跟obj1的写法差不多就是一种简写, 但是又有细微的区别就是obj3的写法是一种匿名函数形式, 怎么证明呢, 来看下面的代码
          ```bash
          let obj4 = {
            fn2: function foo() {
              console.log(foo)  //指向的就是这个具名函数
              console.log(fn2)  //Error
            },
            fn3() {
              console.log(fn3)  //Error
              cosole.log(this.fn3)  //这虽然是一种解决方法, 但是this是在调用时候才确定的, 我们不能确定这个this就是这个对象
            }
          }
          ```
          所以说obj3其实是obj1的不带具体名称的函数的简写, 这种说法没有错
        * 复杂函数
        
          一些逻辑比较复杂的函数不推荐使用箭头函数, 使用普通函数可以快速定位函数, 做到整体代码的把控, 那什么叫复杂函数, 你可以认为就是函数表达式在大于7行, 这种情况使用普通函数更加有利于我们读懂代码
    * ### 什么时候用箭头函数
        * 简单工具函数, 定时器函数
          
          一些简单的工具函数例如
          ```bash
          let double = param => param * 2
          let add = (param1, param2) => param1 + param2

          setTimeout(() => {
            //...
          }, 1000)
          ```
          这种简单的不涉及作用域, 仅仅是一种参数的简单加工适合箭头函数, 以为一行就可以搞定,且更清晰, 定时器中有推荐使用箭头函数

